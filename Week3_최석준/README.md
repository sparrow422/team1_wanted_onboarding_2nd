# 모두의 주차장 DB 분석

## ⚽ Goal
  * COUNT에 대한 EDA
  * 요일 별 EDA
  * COUNT 예측 모델링

## 📊 EDA
 * **전체 컬럼의 의미 파악**
   - 전체 컬럼은 USER_ID, JOIN_DATE, D_TYPE, STORE_ID, GOODS_TYPE, DATE, COUNT, AD1
   - 여기서 쉽게 추론이 가능한 항목은 USER_ID, JOIN_DATE, STORE_ID, DATE이며 각각 사용자 ID, 가입날짜, 주차장 ID, 결제 날짜이다.
   - D_TYPE은 의미는 정확히 알 수 없으나 AA, BB와 달리 CC는 높은 COUNT값을 가지고 있다. 따라서 기간권 사용자이거나 VIP 유저등을 나타낸다고 생각된다.
   - GOODS_TYPE은 이름에서 결제 수단이나 구매상품과 관련되어있다고 생각되는데 COUNT값과는 유의미한 상관관계가 없다.
   - COUNT는 처음엔 이용횟수라고 생각되었으나 이용횟수일 경우 사용자나 주차장, 날짜 등에 대하여 누적되는 양상을 보여야하지만 전혀 그렇지 않았고 이용시간이라고 추측된다.
   - AD1은 주차장 ID와 관련된 모습을 보여 주소에 관한 코드로 보인다.

* **다른 변수와 COUNT의 상관관계**
  - D_TYPE의 CC와 높은 상관관계를 보였다.
  - D_TYPE, GOODS_TYPE, AD1에서 COUNT와 일반적인 상관관계는 보이지 않았지만 이용건수로 봤을 때는 차이가 존재했다.

* **요일 별 이용량**
  - 주말이 평일보다 COUNT값의 평균이 높다.
  - 이용건수 측면에서는 일요일에 많이 감소했다.

## 🔧 MODEL
 * **PYCARET**
 pycaret을 사용하여 여러 회귀모들을 적용해봤다. lightgbm이 가장 좋은 성능을 보여주었고 시간상으로도 준수했다. 단일모델을 사용할 경우 lightgbm을 사용하는게 맞다고 생각되고 앙상블모델의 성능도 궁금하여 실험을 진행했다. 앙상블모델은 릿지회귀모델을 사용했는데 그 이유는 준수한 성능과 빠른 시간때문이다. 앙상블은 배깅, 부스팅 모두 사용해봤는데 성능향상은 이루어지지 않았고 오히려 부스팅에서는 감소하였다. 
 결과적으로 단일모델을 사용하는 것이 가장 좋은 성능을 보여주었고 데이터 대부분에서 count값이 1인 점에서 모든 값을 1로 예측경우의 성능을 체크해봤다.
 MAE부분에서는 모든 값을 1로 예측하는 것이 더 좋은 성능을 보여주었고 MSE부분에서는 모델을 사용하는 것이 더 좋았다.
 
## 🎊 Result
데이터 컬럼의 의미는 추론이라 확실치 않아 어떠한 전략을 세우기가 어려웠고 요일 별 사용량에서 사용자들의 특징을 파악할 수 있었다. 모델링 부분에서는 아쉬운 성능을 보여주었는데 차라리 count가 1인 데이터와 아닌 데이터 사이의 분류문제로 전환하는것이 나아 보이기도 한다.
